# Лабораторная работа 5: Алгоритмы отсечения отрезков и многоугольников

## Описание проекта

Интерактивное веб-приложение для визуализации алгоритмов отсечения отрезков и многоугольников относительно прямоугольного окна. Проект реализует два алгоритма:
1. **Алгоритм средней точки** для отсечения отрезков
2. **Алгоритм отсечения выпуклого многоугольника** (алгоритм Сазерленда-Ходжмана)

## Функциональные возможности

- Визуализация координатной системы с сеткой
- Загрузка исходных данных в текстовом формате
- Отображение отсекающего окна, исходных фигур и результата отсечения
- Переключение между двумя алгоритмами отсечения
- Интерактивное отображение координат курсора мыши
- Возможность загрузки примеров данных
- Очистка холста

## Интерфейс

Приложение состоит из двух основных областей:

### Левая панель управления
- **Текстовое поле** для ввода данных
- **Кнопки управления**:
  - "Загрузить пример" - загрузка демонстрационных данных
  - "Очистить" - очистка холста
  - "Нарисовать исходные данные" - визуализация введенных данных
  - "Выполнить отсечение" - применение выбранного алгоритма
- **Переключатель алгоритмов** между отсечением отрезков и многоугольников
- **Легенда** с цветовыми обозначениями
- **Панель статуса** с информацией о текущем состоянии

### Правая область визуализации
- **Холст** с координатной сеткой
- **Информационная панель** с масштабом и координатами курсора

## Формат входных данных

### Для алгоритма средней точки (отрезки):
```
n
x1₁ y1₁ x2₁ y2₁
x1₂ y1₂ x2₂ y2₂
...
x1ₙ y1ₙ x2ₙ y2ₙ
xmin ymin xmax ymax
```

Где:
- `n` - количество отрезков
- `x1ᵢ, y1ᵢ, x2ᵢ, y2ᵢ` - координаты начала и конца i-го отрезка
- `xmin, ymin, xmax, ymax` - координаты левого нижнего и правого верхнего углов отсекающего окна

### Для алгоритма отсечения многоугольника:
```
n
x₁ y₁
x₂ y₂
...
xₙ yₙ
xmin ymin xmax ymax
```

Где:
- `n` - количество вершин многоугольника
- `xᵢ, yᵢ` - координаты i-й вершины многоугольника
- `xmin, ymin, xmax, ymax` - координаты отсекающего окна

## Технические детали реализации

### Алгоритм средней точки
Рекурсивный алгоритм, основанный на бинарном разбиении отрезка:
1. Вычисление кодов концевых точек отрезка относительно окна
2. Проверка тривиальных случаев (полностью видимый/невидимый отрезок)
3. Рекурсивное деление отрезка пополам до достижения заданной точности
4. Определение видимой части отрезка

### Алгоритм отсечения многоугольника
Последовательное отсечение многоугольника каждой из четырех границ окна:
1. Обработка левой границы
2. Обработка правой границы
3. Обработка нижней границы
4. Обработка верхней границы
5. Формирование результирующего многоугольника

### Система координат
- Центр координат находится в центре холста
- Ось X направлена вправо, ось Y - вверх
- Масштаб: 1 единица = 2 пикселя

## Цветовые обозначения

- **Темно-синий** (`#2c3e50`) - отсекающее окно
- **Синий** (`#4a6491`) - исходные отрезки/многоугольник
- **Красный** (`#e74c3c`) - результат отсечения

## Требования к запуску

- Современный веб-браузер с поддержкой HTML5 Canvas
- Отсутствие необходимости в дополнительных библиотеках или зависимостях

## Использование

1. Откройте файл `index.html` в браузере
2. Выберите алгоритм (отрезки или многоугольник)
3. Введите данные в текстовое поле или используйте кнопку "Загрузить пример"
4. Нажмите "Нарисовать исходные данные" для визуализации
5. Нажмите "Выполнить отсечение" для применения алгоритма

## Особенности реализации

- Координатная система с осями и сеткой
- Интерактивное отображение координат курсора
- Валидация входных данных
- Полупрозрачная заливка для визуализации
- Адаптивный интерфейс для различных размеров экрана

## Примеры данных

### Для отрезков:
```
7
50 50 250 200
100 20 300 120
30 150 180 80
200 30 350 180
80 180 150 250
120 100 120 250
250 50 50 250
100 100 300 250
```

### Для многоугольника:
```
6
150 50
250 150
200 300
100 300
50 200
80 100
100 100 300 250
```

### Заключение

Программа успешно реализует два алгоритма отсечения:

Алгоритм средней точки - эффективен для отсечения отрезков, использует рекурсивное разбиение

Алгоритм Сазерленда-Ходжмана - универсален для отсечения многоугольников, использует последовательное отсечение гранями

Визуализация позволяет наглядно оценить работу алгоритмов и проверить корректность их реализации на различных тестовых данных. Интерфейс интуитивно понятен и предоставляет все необходимые инструменты для работы с алгоритмами отсечения.
